<odoo>

    <template id="portal_exhibitor_dashboard_uploaded_documents" name="Exhibitor Dashboard Uploaded Documents">
        <t t-call="website.layout">
            <div class='dashboard'>
                <t t-call="techfuge_exhibitor_customisation.portal_exhibitor_dashboard_side_nav_bar"/>
                <div class='dashboard-app'>
                    <header class='dashboard-toolbar'>
                        <a href="#!" class="menu-toggle d-block d-lg-none">
                            <i class="fa fa-bars"></i>
                        </a>
                        <div class="d-flex w-100">
                            <div class="p-2 align-self-center">
                                <img src="/techfuge_exhibitor_customisation/static/src/img/hfs_logo_white.png"
                                     alt="" width="100"/>
                            </div>
                            <div class="p-2 align-self-center w-100">
                                <h4 class="dashboard-toolbar-header">Document Uploads</h4>
                            </div>
                        </div>
                    </header>
                    <div class='dashboard-content pt-3 pt-md-2'>
                        <div class='container'>
                            <div class="row bg-blue rounded p-2">

                                <div class="col-md-9 align-self-center add-relevant mb-3 mb-md-0 mt-3 mt-md-0">
                                    <h5 class="mb-0">Add Documents</h5>
                                </div>

                            </div>

<br></br>
<br></br>

                            <div class="alert alert-secondary" role="alert">

                            <ul style="width:100%;list-style: none" >
                               <li> <strong>Step 1  </strong>- Choose Document Type </li>
                                <li>
                                 <strong>
                                     Step 2
                                 </strong>   - Upload File.

                                </li>
                                <li>
                                    <strong>
                                        Step 3
                                    </strong>
                                    - Notes If any (optional)

                                </li>
                                <li>
                                    <strong>
                                         Step 4
                                    </strong>
                                    - Submit.

                                </li>
                            </ul>
                            </div>

                            <form action="/submit/uploaded_documents" method="post" id="upload_document_form"
                                  enctype="multipart/form-data">
                                <div class="row mt-4">
                                    <t t-if="submission_success">
                                        <div id="submission_success_msg" class="alert alert-success mb-4" role="status">
Document Received. Please choose &amp; Upload Next
Document.                                        </div>
                                    </t>

                                    <t t-if="error_message">
                                        <div class="alert alert-danger mb-4" role="alert">
                                            <span t-esc="error_message"/>
                                        </div>
                                    </t>

                                    <div class="col-md-6 mb-4">
                                        <t t-set="mandatory_doc"
                                           t-value="env.ref('techfuge_exhibitor_customisation.document_mandatory_document_section')"/>
                                        <t t-set="contractor_mandatory_doc"
                                           t-value="env.ref('techfuge_exhibitor_customisation.document_mandatory_contractor_section')"/>
                                        <div class="form-group">
                                            <label for="exh_document_type" class="font-weight-normal">
                                                <p> <strong>Step 1</strong></p>
                                                Document Type
                                                <span class="text-danger">*</span>
                                            </label>
                                            <select class="form-control form-select" name="exh_document_type"
                                                    id="exh_document_type" required="required">
                                                <option value="">Select an option</option>
                                                <t t-foreach="document_types or []" t-as="type">
                                                    <option t-att-value="type.id">
                                                        <t t-esc="type.name"/>
                                                        <t t-if="mandatory_doc.id in type.document_mandatory_ids.ids or contractor_mandatory_doc.id in type.document_mandatory_ids.ids">
                                                            <span class="text-danger">
                                                                *
                                                            </span>
                                                        </t>
                                                    </option>
                                                </t>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6 mb-4">
                                        <div class="form-group">
                                            <label for="exh_document" class="font-weight-normal">
                                                                                                <p> <strong>Step 2</strong></p>

                                                Upload File
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="file" class="form-control" id="exh_document"
                                                   name="exh_document" required="required"/>
                                        </div>
                                    </div>

                                    <small>
                                        <em class="text-danger">
                                            <p id="document_format_msg" class="mb-4"/>
                                            <p id="document_additional_msg" class="mb-4"/>
                                        </em>
                                    </small>

                                    <div class="col-md-12 mb-4">
                                        <div class="form-group">
                                            <label for="exh_document_note">
                                                                                                <p> <strong>Step 3</strong></p>

                                                Notes
                                            </label>
                                            <textarea rows="3" class="form-control" id="exh_document_note"
                                                      name="exh_document_note"/>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-0 mt-md-4">

                                    <div class="col-12 p-0">
                                        <div class="d-flex flex-sm-row flex-column justify-content-end">
                                            <div class="mr-auto p-0 p-md-2 mb-3">
                                                <button type="submit" class="btn btn-orange w-100 btn-orange-padding">
                                                    Submit
                                                </button>
                                            </div>

                                            <div class="p-0 p-md-2 mb-3">
                                                <button type="button" class="btn btn-red-light w-100"
                                                        id="btn_clear_all">
                                                    Clear all
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </form>

                            <div class="row mt-4">
                                <div class="col-12 bg-blue rounded p-2">
                                    <h5 class="mb-0">All Documents</h5>
                                </div>
                            </div>

                            <div class="row mt-2">
                                <div class="col-12 p-0">
                                    <div class="table-responsive rounded">
                                        <table class="table table-bordered text-center">
                                            <tr class="bg-blue-light">
                                                <th>Document Type</th>
                                                <th>File</th>
                                                <th>Notes</th>
                                                <th/>
                                            </tr>

                                            <tr t-foreach="uploaded_documents" t-as="document">
                                                <td>
                                                    <p t-esc="document.document_type_id.name"/>
                                                </td>
                                                <td>
                                                    <t t-if="document.document_attachment_id">
                                                        <a t-attf-href="/web/content/#{document.document_attachment_id.id}?download=true"
                                                           title="Download"
                                                           style="text-decoration: none; color: #2b343b;">
                                                            <i class="fa fa-download"></i>
                                                            <span t-esc="document.document_attachment_id.name"/>
                                                        </a>
                                                    </t>
                                                </td>
                                                <td>
                                                    <p t-esc="document.document_note"/>
                                                </td>
                                                <td>
                                                    <a t-att-href="'/delete/exhibitor_data?record_id=%s&amp;model=exhibitor.uploaded.documents' % document.id"
                                                       title="Delete" class="mr-auto p-2"
                                                       style="text-decoration: none; color: red;">
                                                        <i class="fa fa-trash-o"></i>
                                                    </a>
                                                </td>
                                            </tr>

                                        </table>
                                    </div>
                                </div>
                            </div>

                            <hr class="mt-3 mb-3"/>

                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

</odoo>

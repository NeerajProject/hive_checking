<odoo>

    <template id="portal_exhibitor_dashboard_shipment_details" name="Exhibitor Dashboard Shipment Details">
        <t t-call="website.layout">
            <div class='dashboard'>
                <t t-call="techfuge_exhibitor_customisation.portal_exhibitor_dashboard_side_nav_bar"/>
                <div class='dashboard-app'>
                    <header class='dashboard-toolbar'>
                        <a href="#!" class="menu-toggle d-block d-lg-none">
                            <i class="fa fa-bars"></i>
                        </a>
                        <div class="d-flex w-100">
                            <div class="p-2 align-self-center">
                                <img src="/techfuge_exhibitor_customisation/static/src/img/hfs_logo_white.png"
                                     alt="" width="100"/>
                            </div>
                            <div class="p-2 align-self-center w-100">
                                <h4 class="dashboard-toolbar-header">Shipment Details</h4>
                            </div>
                        </div>
                    </header>
                    <div class='dashboard-content pt-3 pt-md-2'>
                        <div class='container'>



                               <div class="row bg-blue rounded p-2 mt-4 ">
                                <div class="col-md-9 align-self-center add-relevant mb-3 mb-md-0 mt-3 mt-md-0">
                                    <h5 class="mb-0">Add Relevant Documents</h5>
                                </div>
                            </div>

                            <form action="/submit/shipment_uploaded_documents" method="post"
                                  id="shipment_upload_document_form" enctype="multipart/form-data">
                                <div class="row mt-4">
                                    <t t-if="error_message">
                                        <div class="alert alert-danger mb-4" role="alert">
                                            <span t-esc="error_message"/>
                                        </div>
                                    </t>
                                    <div class="col-md-6 mb-4">
                                        <t t-set="mandatory_doc"
                                           t-value="env.ref('techfuge_exhibitor_customisation.document_mandatory_shipment_section')"/>
                                        <div class="form-group">
                                            <label for="exh_shipment_document_type" class="font-weight-normal">

                                               <p><strong> Step 1</strong></p>


                                                Document Type
                                                <span class="text-danger">*</span>
                                            </label>
                                            <select class="form-control form-select" name="exh_shipment_document_type"
                                                    id="exh_shipment_document_type" required="required">
                                                <option value="">Select an option</option>
                                                <t t-foreach="document_types or []" t-as="type">
                                                    <option t-att-value="type.id">
                                                        <t t-esc="type.name"/>
                                                        <t t-if="mandatory_doc.id in type.document_mandatory_ids.ids">
                                                            <span class="text-danger">
                                                                *
                                                            </span>
                                                        </t>
                                                    </option>
                                                </t>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_document_file" class="font-weight-normal">

                                                                                               <p><strong> Step 2</strong></p>

                                                Upload File
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="file" class="form-control" id="exh_shipment_document_file"
                                                   name="exh_shipment_document_file"/>
                                        </div>
                                    </div>

                                    <small>
                                        <em class="text-danger">
                                            <p id="document_format_msg" class="mb-4"/>
                                            <p id="document_additional_msg" class="mb-4"/>
                                        </em>
                                    </small>

                                    <div class="col-md-12 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_document_note">
                                              <p><strong> Step 3</strong></p>

                                                Notes
                                            </label>
                                            <textarea rows="3" class="form-control" id="exh_shipment_document_note"
                                                      name="exh_shipment_document_note"/>
                                        </div>
                                    </div>


<div class="col-12 p-0">








                                        <div class="d-flex flex-sm-row flex-column justify-content-end">





<!--                           <a t-att-href="'/submit/hfs/shipment_documents?id=%s' %exhibitor_contract.id">-->
<!--                                                         <div class="mr-auto p-0 p-md-2 mb-3">-->
<!--                                                      <button type="button" class="btn btn-orange w-100 btn-orange-padding">-->
<!--Submit                                                </button>-->
<!--                                            </div>-->

<!--                                                    </a>-->





                                            <div class="mr-auto p-0 p-md-2 mb-3">
                                                <button type="submit" class="btn btn-orange w-100 btn-orange-padding">
                                                    Submit Document
                                                </button>
                                            </div>


                                        </div>
                                    </div>


                                </div>

                                <div class="row mt-4">
                                    <div class="col-12 bg-blue rounded p-2">
                                        <h5 class="mb-0">All Documents</h5>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col-12 p-0">
                                        <div class="table-responsive rounded">
                                            <table class="table table-bordered text-center">
                                                <tr class="bg-blue-light">
                                                    <th>Document Type</th>
                                                    <th>File</th>
                                                    <th>Notes</th>
                                                    <th style="width: 10%;"/>
                                                </tr>

                                                <tr t-foreach="uploaded_documents" t-as="document">
                                                    <td>
                                                        <p t-esc="document.document_type_id.name"/>
                                                    </td>
                                                    <td>
                                                        <t t-if="document.document_attachment_id">
                                                            <a t-attf-href="/web/content/#{document.document_attachment_id.id}?download=true"
                                                               title="Download"
                                                               style="text-decoration: none; color: #2b343b;">
                                                                <i class="fa fa-download"></i>
                                                                <span t-esc="document.document_attachment_id.name"/>
                                                            </a>
                                                        </t>
                                                    </td>
                                                    <td>
                                                        <p t-esc="document.document_note"/>
                                                    </td>
                                                    <td>
                                                        <a t-att-href="'/delete/exhibitor_data?record_id=%s&amp;model=shipment.uploaded.documents' % document.id"
                                                           title="Delete" class="mr-auto p-2"
                                                           style="text-decoration: none; color: red;">
                                                            <i class="fa fa-trash-o"></i>
                                                        </a>
                                                    </td>
                                                </tr>

                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-0 mt-md-4">

                                    <div class="col-12 p-0">
                                        <div class="d-flex flex-sm-row flex-column justify-content-end">
<!--                                            <div class="mr-auto p-0 p-md-2 mb-3">-->
<!--                                                <button type="submit" class="btn btn-orange w-100 btn-orange-padding">-->
<!--                                                    Add Document-->
<!--                                                </button>-->
<!--                                            </div>-->

<!--                                            <div class="mr-auto p-0 p-md-2 mb-3">-->
<!--                                                <button type="submit" class="btn btn-orange w-100 btn-orange-padding"-->
<!--                                                        form="shipment_details_submission_form">-->
<!--                                                    Submit-->
<!--                                                </button>-->
<!--                                            </div>-->

<!--                                            <div class="p-0 p-md-2 mb-3">-->
<!--                                                <button type="button" class="btn btn-red-light w-100"-->
<!--                                                        id="btn_clear_shipment_form">-->
<!--                                                    Clear all-->
<!--                                                </button>-->
<!--                                            </div>-->
                                        </div>
                                    </div>

                                </div>

                            </form>











                            <div class="row bg-blue rounded p-2">


<!--                                -->


















<!--                                -->

                                <div class="col-md-9 align-self-center add-relevant mb-3 mb-md-0 mt-3 mt-md-0">
                                    <h5 class="mb-0">Add Shipment Details</h5>
                                </div>

                            </div>

                            <form action="/submit/shipment_details" method="post" id="shipment_details_submission_form"
                                  enctype="multipart/form-data">
                                <input type="hidden" id="exh_total_area" name="exh_total_area"
                                       t-att-value="exhibitor_contract.total_area"/>
                                <div class="row mt-4">
                                    <t t-if="submission_success">
                                        <div id="submission_success_msg" class="alert alert-success mb-4" role="status">
                                            Successfully submitted the shipment details !!!
                                        </div>
                                    </t>

                                    <t t-if="error_message">
                                        <div class="alert alert-danger mb-4" role="alert">
                                            <span t-esc="error_message"/>
                                            <br/>
                                            <br/>
                                            <t t-if="relevant_docs_name">
                                                <ol>
                                                    <li t-foreach="relevant_docs_name" t-as="doc_name">
                                                        <t t-esc="doc_name"/>
                                                    </li>
                                                </ol>
                                            </t>
                                        </div>
                                    </t>
                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_volume" class="font-weight-normal">
                                                Total Shipment Volume (CBM)
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_volume"
                                                   name="exh_shipment_volume"  t-att-disabled="exhibitor_contract.is_readonly_shipping"  required="required"/>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_allowed_cbm" class="font-weight-normal">
                                                Allowed CBM / 10 SQM
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_allowed_cbm"
                                                   name="exh_shipment_allowed_cbm" readonly="readonly"/>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_extra_cbm" class="font-weight-normal">
                                                Extra CBM
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_extra_cbm"
                                                   name="exh_shipment_extra_cbm" readonly="readonly"/>
                                            <small>
                                                <em class="text-danger">
                                                    Please contact us if the CBM is exceeding the given limit
                                                </em>
                                            </small>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_exc_charge" class="font-weight-normal">
                                                Exceeding Volume Charges ($)
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_exc_charge"
                                                   name="exh_shipment_exc_charge"  t-att-value="exhibitor_contract.exceeding_charges"  readonly="readonly"/>
                                            <small>
                                                <em>Per CBM charges for exceeding volume</em>
                                            </small>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_add_charge" class="font-weight-normal">
                                                Additional Charges ($)
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_add_charge"
                                                   name="exh_shipment_add_charge" readonly="readonly"/>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_final_charge" class="font-weight-normal">
                                                Final Charges ($)
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_final_charge"
                                                   name="exh_shipment_final_charge" readonly="readonly"/>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_cartons" class="font-weight-normal">
                                                No of Cartons (PCS)
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_cartons"
                                                   name="exh_shipment_cartons" t-att-disabled="exhibitor_contract.is_readonly_shipping" required="required"/>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_net_weight" class="font-weight-normal">
                                                Net Weight (KGS)
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_net_weight"  t-att-disabled="exhibitor_contract.is_readonly_shipping"
                                                   name="exh_shipment_net_weight" required="required"/>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_gross_weight" class="font-weight-normal">
                                                Gross Weight (KGS)
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_gross_weight"  t-att-disabled="exhibitor_contract.is_readonly_shipping"
                                                   name="exh_shipment_gross_weight"/>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_loading_port" class="font-weight-normal">
                                                Port of Loading
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="tex" class="form-control" id="exh_shipment_loading_port"
                                                   name="exh_shipment_loading_port" t-att-disabled="exhibitor_contract.is_readonly_shipping" required="required"/>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="form-group">
                                            <label for="exh_shipment_arrival_port" class="font-weight-normal">
                                                Port of Arrival in UAE
                                                <span class="text-danger">*</span>
                                            </label>
                                            <input type="text" class="form-control" id="exh_shipment_arrival_port"
                                                   name="exh_shipment_arrival_port"  t-att-disabled="exhibitor_contract.is_readonly_shipping" required="required"/>
                                        </div>
                                    </div>






                                      <div class="row mt-0 mt-md-4">

                                    <div class="col-12 p-0">
                                        <div class="d-flex flex-sm-row flex-column justify-content-end">
<!--                                            <div class="mr-auto p-0 p-md-2 mb-3">-->
<!--                                                <button type="submit" class="btn btn-orange w-100 btn-orange-padding">-->
<!--                                                    Add Document-->
<!--                                                </button>-->
<!--                                            </div>-->

                                            <div class="mr-auto p-0 p-md-2 mb-3">
                                                <button type="submit" class="btn btn-orange w-100 btn-orange-padding"
                                                        form="shipment_details_submission_form" t-att-disabled="exhibitor_contract.is_readonly_shipping">
                                                    Submit
                                                </button>
                                            </div>

                                            <div class="p-0 p-md-2 mb-3" >
                                                <button type="button"  t-att-disabled="exhibitor_contract.is_readonly_shipping" class="btn btn-red-light w-100"
                                                        id="btn_clear_shipment_form">
                                                    Clear all
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                </div>








                                </div>
                            </form>



                            <hr class="mt-3 mb-3"/>

                            <div class="row mt-4">
                                <div class="col-12 bg-blue rounded p-2">
                                    <h5 class="mb-0">All Shipment Details</h5>
                                </div>
                            </div>

                            <div class="row mt-2">
                                <div class="col-12 p-0">
                                    <div class="table-responsive rounded">
                                        <table class="table table-bordered text-center">
                                            <tr class="bg-blue-light">
                                                <th>Total Shipment Volume (CBM)</th>
                                                <th>Allowed CBM / 10 SQM</th>
                                                <th>Extra CBM</th>
                                                <th style="padding: 5px;">Exceeding Volume Charges ($)</th>
                                                <th style="padding: 5px;">Additional Charges ($)</th>
                                                <th>Final Charges ($)</th>
                                                <th>No of Cartons (PCS)</th>
                                                <th>Net Weight (KGS)</th>
                                                <th>Gross Weight (KGS)</th>
                                                <th>Port of Loading</th>
                                                <th>Port of Arrival in UAE</th>
                                                <th/>
                                            </tr>
                                            <tr t-foreach="shipment_details" t-as="shipment">
                                                <td>
                                                    <p t-esc="shipment.total_shipment_volume"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.allowed_cbm"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.extra_cbm"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.exceeding_charges"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.additional_charges"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.final_charges"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.no_of_cartons"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.net_weight"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.gross_weight"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.port_of_loading"/>
                                                </td>
                                                <td>
                                                    <p t-esc="shipment.port_of_arrival_in_uae"/>
                                                </td>
                                                <td>
                                                    <t t-if="exhibitor_contract.is_readonly_shipping">
                                                            <a
                                                       title="Delete" class="mr-auto p-2"
                                                       style="text-decoration: none; color: red;" t-att-disabled="exhibitor_contract.is_readonly_shipping">

                                                        <i class="fa fa-trash-o"></i>
                                                    </a>
                                                    </t>
                                                    <t t-elif="exhibitor_contract.is_readonly_shipping">
                                                          <a t-att-href="'/delete/exhibitor_data?record_id=%s&amp;model=exhibitor.shipment.details' % shipment.id"
                                                       title="Delete" class="mr-auto p-2"
                                                       style="text-decoration: none; color: red;" t-att-disabled="exhibitor_contract.is_readonly_shipping">

                                                        <i class="fa fa-trash-o"></i>
                                                    </a>
                                                    </t>

                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <hr class="mt-3 mb-3"/>

                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

</odoo>

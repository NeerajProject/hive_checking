<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="portal_exhibitor_floor_stand" name="Exhibitor Dashboard Branding Panel">

        <style>

            .xsmbtn{
            transform: scale(.7);
            }

            input[type='file'] {
            color: rgba(0, 0, 0, 0)
            }
        </style>

        <t t-if="not contract.sudo().floor_plan_ids.filtered(lambda ml: ml.status in ['submitted','accepted','decline'])">


            <div class="alert alert-warning" role="alert">
                Your Stand Design Drawings/Documents will be uploaded soon.In case of information/query,
                please write to exhibit@hivefurnitureshow.com
            </div>

        </t>
        <t t-if="contract.get_succefully_accepted()">
            <div class="alert alert-info" role="alert">
                HFS will proceed with the last drawings accepted through this section only.In case of any concerns after
                final approvals,Please send Mail to exhibit@hivefurnitureshow.com
            </div>
        </t>


        <!--<t t-if="submited_request">-->
        <!--&lt;!&ndash;	<div class="alert alert-success" role="status">&ndash;&gt;-->
        <!--&lt;!&ndash; Successfully Accepted </div>&ndash;&gt;-->
        <!--</t>-->


        <!--Upload Stand Details -->


        <div class="container floor_plan_suggestions">


            <form action="/submit/floor_plan/document_submit" method="post" id="floor_plan_submit_request_form"
                  enctype="multipart/form-data">
                <div class="row mt-4" id="brand_pannel_hive_upload">
                    <div class="col-md-4 mb-4">
                        <div class="form-group">

                            <input type="hidden" name="contract_id" t-att-value="contract.id"></input>
                            <label for="exh_attendee_title" class="font-weight-normal">
                                Stand Details
                                <span class="text-danger">*</span>
                            </label>


                            <select data-show-content="true" class="form-control form-select" name="stand_id" id="field_change">
                                <option value="">Select an option</option>
                                <t t-foreach="contract.sudo().stand_ids" t-as="stand">
                                    <option t-att-value="stand.stand_id.id">
                                        <t t-esc="stand.stand_id.stand_number"></t>
                                    </option>

                                </t>

                            </select>
                        </div>
                    </div>


                    <div class="col-md-4 mb-4">
                        <div class="form-group">
                            <label for="exh_attendee_first_name">
                                Document Type
                                <span class="text-danger" >*</span>
                            </label>
                            <select data-show-content="true"  id="field_change"  name="document_type_id" class="form-control form-select">
                                <option value="">Select an option</option>
                                <t t-foreach="documents_type_ids" t-as="document">
                                    <option t-att-value="document.id">
                                        <t t-esc="document.name"></t>
                                    </option>

                                </t>

                            </select>


                        </div>
                    </div>



                    <script>


                    </script>
                    <div class="col-md-2 mb-2 ">












                        <div class="form-group">
                            <label for="exh_document_type">
                                Upload Document
                                <span class="text-danger">*</span>
                            </label>
<div>
    <div style="display:inline"><input type="file" style="height:50px" class="upload_name"  id="field_change" name="document_upload"/>  <input type="text" id="field_filename" style="    border: none;
 outline: none" readonly="1"></input> </div>
</div>



                            <div>

                        </div>

                        </div>
                    </div>


                    <div class="col-md-4 mb-4 mb-md-0">


                        <div class="form-group">
                            <label for="exh_attendee_last_name">
                                Comments
                                <span class="text-danger">*</span>
                            </label>
                            <textarea style="width:600px;height:100px" type="text" id="field_change" class="form-control"
                                      placeholder="Enter Comment"  name="exh_comments"
                                      required="required"/>
                        </div>
                    </div>


                    <div class="row mt-0 mt-md-4">
                        <div class="col-12 p-0">
                            <div class="d-flex flex-sm-row flex-column justify-content-end">
                                <div class="mr-auto p-2">
                                    <button type="submit" class="btn btn-orange w-100 btn-orange-padding"
                                            id="btn_generate_badge">
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>

        </div>


        <table class="table table-bordered text-center" style="width:110%">
            <tbody>
                <tr class="bg-blue-light">
                    <th>Sequence No.</th>
                    <th>Date</th>

                    <th>Stand Numbers</th>
                    <th>Type</th>
                    <th>BY HFS OR EXHIBITOR</th>

                    <th>Comments</th>
                    <th>Download Document</th>
                    <!--											<th> Upload Document</th>-->
                    <!--											<th>Exhibitor/HFS Comments If Any </th>-->
                    <th>Status</th>
                </tr>
                <t t-set="design_sl_no" t-value="1"/>
<!--                   t-value="len(contract.sudo().floor_plan_ids.filtered(lambda ml: ml.status in ['submitted','accepted','decline']))"/>-->


                <t t-foreach="contract.sudo().floor_plan_ids.filtered(lambda ml: ml.status in ['submitted','accepted','decline']).sorted(key=lambda r: r.id)"
                   t-as="floor">




                    <t t-if="is_latest">
                        <tr style="width:110%" class="p-3 mb-2 bg-warning text-dark">

                            <td>
                                <span t-esc="design_sl_no"/>

                            </td>
                            <td>


                                <t t-esc="floor.date_of_upload"></t>


                            </td>


                            <td>
                                <t t-esc="floor.stand_id.stand_number"></t>

                            </td>


                            <td>
                                <t t-esc="floor.booth_design_id.name"></t>
                            </td>


                            <form action="/upload/exhibitor/floor/plan" method="post"
                                  id="attendee_badge_request_form"
                                  enctype="multipart/form-data">


                                <td>


                                    <t t-esc="floor.by_iff_exihibitor.upper()"></t>
                                    <!--<select class="form-select" name='by_iff_exihibitor' t-att-value="floor.by_iff_exihibitor" aria-label="Default select example">-->
                                    <!--	<t t-if="floor.by_iff_exihibitor == 'omg'">-->
                                    <!--		  <option value="exhibitor">EXHIBITOR</option>-->
                                    <!--		  <option value="omg" selected="1">OMG</option>-->


                                    <!--	</t>-->
                                    <!--	<t t-else="floor.by_iff_exihibitor == 'omg'">-->
                                    <!--				  <option value="exhibitor" selected="1">EXHIBITOR</option>-->
                                    <!--		  <option value="omg"  >OMG</option>-->
                                    <!--	</t>-->

                                    <!--</select>-->
                                </td>


                                <td>
                                    <t t-esc="floor.description"></t>

                                </td>


                                <td>
                                    <p>


                                        <div class="row">

                                            <t t-foreach="floor.generate_download_url()" t-as="document">


                                                <a title="Download" style="text-decoration: none; color: #2b343b;"
                                                   t-att-href="document[1]">
                                                    <i class="fa fa-download"></i>
                                                    <t t-esc="document[0]"></t>

                                                </a>


                                            </t>


                                        </div>


                                    </p>
                                </td>


                                <!--											<td style="width:300px">-->


                                <!--<div class="row">-->
                                <!--<input type="hidden" name="id" t-att-value="floor.id"></input>-->
                                <!--<input  type="file"   class="form-label"  name="exhibitor_file_upload"/>-->
                                <!--<t t-foreach="floor.get_download_exhibitor_upload()" t-as="document">-->
                                <!--<a title="Download" style="text-decoration: none; color: #2b343b; font-size: 12px;" t-att-href="document[1]">-->
                                <!--<i class="fa fa-download"></i>-->
                                <!--<t t-esc="document[0]"></t></a></t>-->

                                <!--<button  type="submit" class="btn btn-orange xsmbtn" >Submit</button>-->
                                <!--</div>-->


                                <!--				</td>-->

                            </form>

                            <!--<td>-->
                            <!--		<a t-att-href="'/exhibitor_dashboard/exhibitor_floor_plan/floor?id=%s' %floor.id"  >-->

                            <!--<i class='fa fa-comments' style='font-size:36px'></i>-->

                            <!--			Exhibitor Comments If any. </a>-->


                            <!--</td>-->
                            <td style="display:flex">

                                <t t-if="floor.by_iff_exihibitor == 'omg'">
                                    <form action="/accepted/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">


                                        <input type="hidden" name="id"
                                               t-att-value="floor.id"></input>


                                        <t t-if="floor.status == 'accepted'">
                                            <div class="text-success">
                                                Accepted
                                            </div>
                                        </t>

                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit"
                                                    t-att-disabled="floor.status == 'accepted'"
                                                    class="btn btn-success " style="font-size:10px"
                                                    id="btn_generate_badge">
                                                Accept
                                            </button>


                                        </t>


                                    </form>


                                    <form action="/decline/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">

                                        <input type="hidden" name="id" t-att-value="floor.id"></input>
                                        <t t-if="floor.status == 'decline'">
                                            <div class="text-danger">
                                                Declined
                                            </div>
                                        </t>


                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit" class="btn btn-info "
                                                    style="font-size:10px" id="btn_generate_badge">
                                                Decline
                                            </button>
                                        </t>


                                    </form>


                                </t>
                                <t t-else="floor.by_iff_exihibitor == 'omg'">


                                    <!--														New-->


                                    <form action="/accepted/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">


                                        <input type="hidden" name="id"
                                               t-att-value="floor.id"></input>


                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit"
                                                    class="btn btn-success " style="font-size:10px"
                                                    id="btn_generate_badge" disabled="1">
                                                Accept
                                            </button>


                                        </t>


                                    </form>


                                    <form action="/decline/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">

                                        <input type="hidden" name="id" t-att-value="floor.id"></input>


                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit" class="btn btn-info " disabled="1"
                                                    style="font-size:10px" id="btn_generate_badge">
                                                Decline
                                            </button>
                                        </t>


                                    </form>


                                    <!--														Next-->


                                    <form action="/cancel/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">


                                        <input type="hidden" name="id"
                                               t-att-value="floor.id"></input>


                                        <t t-if="floor.status == 'accepted'">
                                            <div class="text-success">
                                                Accepted
                                            </div>
                                        </t>


                                        <t t-if="floor.status == 'decline'">
                                            <div class="text-danger">
                                                Declined
                                            </div>
                                        </t>


                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit" class="btn btn-danger "
                                                    style="font-size:10px" id="btn_generate_badge">
                                                <span class="fa fa-trash"></span>

                                            </button>
                                        </t>


                                    </form>


                                </t>


                            </td>
                             <t t-set="design_sl_no" t-value="design_sl_no+1"/>

                        </tr>
                    </t>

                    <!--											NO COLOR					-->

                    <t t-else="is_latest">
                        <tr style="width:110%">

                            <td>
                                <span t-esc="design_sl_no"/>
                                <t t-set="design_sl_no" t-value="design_sl_no+1"/>

                            </td>
                            <td>


                                <t t-esc="floor.date_of_upload"></t>


                            </td>


                            <td>
                                <t t-esc="floor.stand_id.stand_number"></t>

                            </td>


                            <td>
                                <t t-esc="floor.booth_design_id.name"></t>
                            </td>


                            <form action="/upload/exhibitor/floor/plan" method="post"
                                  id="attendee_badge_request_form"
                                  enctype="multipart/form-data">


                                <td>


                                    <t t-esc="floor.by_iff_exihibitor.upper()"></t>
                                    <!--<select class="form-select" name='by_iff_exihibitor' t-att-value="floor.by_iff_exihibitor" aria-label="Default select example">-->
                                    <!--	<t t-if="floor.by_iff_exihibitor == 'omg'">-->
                                    <!--		  <option value="exhibitor">EXHIBITOR</option>-->
                                    <!--		  <option value="omg" selected="1">OMG</option>-->


                                    <!--	</t>-->
                                    <!--	<t t-else="floor.by_iff_exihibitor == 'omg'">-->
                                    <!--				  <option value="exhibitor" selected="1">EXHIBITOR</option>-->
                                    <!--		  <option value="omg"  >OMG</option>-->
                                    <!--	</t>-->

                                    <!--</select>-->
                                </td>


                                <td>
                                    <t t-esc="floor.description"></t>

                                </td>


                                <td>
                                    <p>


                                        <div class="row">

                                            <t t-foreach="floor.generate_download_url()" t-as="document">


                                                <a title="Download" style="text-decoration: none; color: #2b343b;"
                                                   t-att-href="document[1]">
                                                    <i class="fa fa-download"></i>
                                                    <t t-esc="document[0]"></t>

                                                </a>


                                            </t>


                                        </div>


                                    </p>
                                </td>


                                <!--											<td style="width:300px">-->


                                <!--<div class="row">-->
                                <!--<input type="hidden" name="id" t-att-value="floor.id"></input>-->
                                <!--<input  type="file"   class="form-label"  name="exhibitor_file_upload"/>-->
                                <!--<t t-foreach="floor.get_download_exhibitor_upload()" t-as="document">-->
                                <!--<a title="Download" style="text-decoration: none; color: #2b343b; font-size: 12px;" t-att-href="document[1]">-->
                                <!--<i class="fa fa-download"></i>-->
                                <!--<t t-esc="document[0]"></t></a></t>-->

                                <!--<button  type="submit" class="btn btn-orange xsmbtn" >Submit</button>-->
                                <!--</div>-->


                                <!--				</td>-->

                            </form>

                            <!--<td>-->
                            <!--		<a t-att-href="'/exhibitor_dashboard/exhibitor_floor_plan/floor?id=%s' %floor.id"  >-->

                            <!--<i class='fa fa-comments' style='font-size:36px'></i>-->

                            <!--			Exhibitor Comments If any. </a>-->


                            <!--</td>-->
                            <td style="display:flex">

                                <t t-if="floor.by_iff_exihibitor == 'omg'">
                                    <form action="/accepted/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">


                                        <input type="hidden" name="id"
                                               t-att-value="floor.id"></input>


                                        <t t-if="floor.status == 'accepted'">
                                            <div class="text-success">
                                                Accepted
                                            </div>
                                        </t>

                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit"
                                                    t-att-disabled="floor.status == 'accepted'"
                                                    class="btn btn-success " style="font-size:10px"
                                                    id="btn_generate_badge">
                                                Accept
                                            </button>


                                        </t>


                                    </form>


                                    <form action="/decline/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">

                                        <input type="hidden" name="id" t-att-value="floor.id"></input>
                                        <t t-if="floor.status == 'decline'">
                                            <div class="text-danger">
                                                Declined
                                            </div>
                                        </t>


                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit" class="btn btn-info "
                                                    style="font-size:10px" id="btn_generate_badge">
                                                Decline
                                            </button>
                                        </t>


                                    </form>


                                </t>
                                <t t-else="floor.by_iff_exihibitor == 'omg'">


                                    <!--														New-->


                                    <form action="/accepted/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">


                                        <input type="hidden" name="id"
                                               t-att-value="floor.id"></input>


                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit"
                                                    class="btn btn-success " style="font-size:10px"
                                                    id="btn_generate_badge" disabled="1">
                                                Accept
                                            </button>


                                        </t>


                                    </form>


                                    <form action="/decline/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">

                                        <input type="hidden" name="id" t-att-value="floor.id"></input>


                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit" class="btn btn-info " disabled="1"
                                                    style="font-size:10px" id="btn_generate_badge">
                                                Decline
                                            </button>
                                        </t>


                                    </form>


                                    <!--														Next-->


                                    <form action="/cancel/floor/plan" method="post"
                                          id="attendee_badge_request_form"
                                          enctype="multipart/form-data">


                                        <input type="hidden" name="id"
                                               t-att-value="floor.id"></input>


                                        <t t-if="floor.status == 'accepted'">
                                            <div class="text-success">
                                                Accepted
                                            </div>
                                        </t>


                                        <t t-if="floor.status == 'decline'">
                                            <div class="text-danger">
                                                Declined
                                            </div>
                                        </t>


                                        <t t-if="floor.status == 'submitted'">
                                            <button type="submit" class="btn btn-danger "
                                                    style="font-size:10px" id="btn_generate_badge">
                                                <span class="fa fa-trash"></span>

                                            </button>
                                        </t>


                                    </form>


                                </t>


                            </td>

                        </tr>
                    </t>


                </t>


                <!--										Non Coloured-->


            </tbody>
        </table>


    </template>
</odoo>